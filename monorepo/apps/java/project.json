{
  "name": "java",
  "root": "apps/java",
  "sourceRoot": "apps/java/src",
  "projectType": "application",
  "targets": {
    "build": {
      "executor": "nx:run-commands",
      "options": {
        "commands": [
          {
            "command": "mvn -B -f apps/java/pom.xml -DskipTests=false clean package"
          }
        ],
        "parallel": false
      }
    },
    "test": {
      "executor": "nx:run-commands",
      "options": {
        "commands": [
          {
            "command": "mvn -B -f apps/java/pom.xml test"
          }
        ],
        "parallel": false
      }
    }
    ,
    "docker": {
      "executor": "nx:run-commands",
      "options": {
        "commands": [
          {
            "command": "DOCKER_BUILDKIT=1 docker buildx build --platform linux/amd64 --push -t ghcr.io/${GITHUB_REPOSITORY_OWNER}/java-app:${GITHUB_SHA} apps/java"
          }
        ],
        "parallel": false
      }
    },
    "docker-local": {
      "executor": "nx:run-commands",
      "options": {
        "commands": [
          {
            "command": "DOCKER_BUILDKIT=1 docker buildx build --platform linux/amd64 --load -t java-app:local apps/java"
          }
        ],
        "parallel": false
      }
    }
  },
  "tags": []
}
